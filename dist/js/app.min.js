const header=document.querySelector(".page-header"),headerContent=document.querySelector(".menu__content"),headerToggle=document.querySelector(".header__toggle"),headerMenu=document.querySelector(".header__menu"),form=document.querySelector(".form__container"),formButton=document.querySelector(".header__button"),formClosed=document.querySelector(".form__close"),catalog=document.querySelector(".catalog"),screenHeight=window.screen.height,video=document.querySelector(".header__video"),title=document.querySelector(".header__content"),formContainer=document.querySelector(".form__container"),containerClicked=function(){event.target===formContainer&&formClose()},esc=function(){27==event.keyCode&&formClose()},formClose=function(){form.classList.remove("open-flex"),headerContent.classList.remove("menu__content--active"),document.body.classList.remove("no-scroll"),formClosed.removeEventListener("click",formClose),formButton.addEventListener("click",formOpen),formContainer.removeEventListener("click",containerClicked),removeEventListener("keydown",esc)},formOpen=function(){form.classList.add("open-flex"),headerContent.classList.add("menu__content--active"),document.body.classList.add("no-scroll"),formButton.removeEventListener("click",formOpen),formClosed.addEventListener("click",formClose),formContainer.addEventListener("click",containerClicked),addEventListener("keydown",esc)},scrolled=function(e,o,t){let n;t<1?n=1/t:t>1&&(n=100/t),window.onscroll=function(){let t=1-(1-e.getBoundingClientRect().y/e.offsetTop)*n;o.style.opacity=t,t<0?headerContent.classList.add("menu__content--bg-white"):t>0&&headerContent.classList.contains("menu__content--bg-white")&&headerContent.classList.remove("menu__content--bg-white")}},catalogScrolled=function(){let e=video.offsetHeight-.325*video.offsetHeight;0!==e?(catalog.style.marginTop=e+"px",title.style.marginTop=(e-headerMenu.offsetHeight)/2-title.offsetHeight/2+headerMenu.offsetHeight+"px"):(catalog.style.marginTop=null,title.style.marginTop=null)};headerToggle.addEventListener("click",(function(){headerMenu.classList.contains("header__menu--open")?(headerMenu.classList.remove("header__menu--open"),document.body.classList.remove("no-scroll")):(headerMenu.classList.add("header__menu--open"),document.body.classList.add("no-scroll"))})),formButton.addEventListener("click",formOpen),scrolled(catalog,header,75),catalogScrolled(),window.onresize=catalogScrolled,$("#phone").mask("+7(999)-999-99-99");